{
  "id": "scan-1755347842744",
  "timestamp": "2025-08-16T12:37:22.744Z",
  "scanLevel": "moderate",
  "results": {
    "server": {
      "type": "server",
      "directory": ".",
      "npmAudit": {
        "auditReportVersion": 2,
        "vulnerabilities": {},
        "metadata": {
          "vulnerabilities": {
            "info": 0,
            "low": 0,
            "moderate": 0,
            "high": 0,
            "critical": 0,
            "total": 0
          },
          "dependencies": {
            "prod": 241,
            "dev": 951,
            "optional": 93,
            "peer": 4,
            "peerOptional": 0,
            "total": 1233
          }
        }
      },
      "packageInfo": {
        "name": "maritime-onboarding-system",
        "version": "2.0.1",
        "description": "Comprehensive maritime crew onboarding system with multi-phase training workflow",
        "main": "api/index.js",
        "scripts": {
          "start": "vercel dev",
          "start:cloud": "vercel dev --env-file .env.cloud",
          "dev:build": "cd client && npm run build && cd .. && cp -r client/build ./build",
          "dev:fresh": "rm -rf build && npm run dev:build",
          "build": "cd client && npm install --legacy-peer-deps && npm run build && cd .. && cp -r client/build ./build",
          "changelog": "conventional-changelog -p angular -i CHANGELOG.md -s",
          "changelog:init": "conventional-changelog -p angular -i CHANGELOG.md -s -r 0",
          "version": "npm run changelog && git add CHANGELOG.md",
          "migrate:data": "node migration/03-data-migration.js",
          "migrate:files": "node migration/04-file-migration.js",
          "migrate:roles": "node migration/run-role-migration.js",
          "migrate:all": "npm run migrate:data && npm run migrate:files && npm run migrate:roles",
          "test": "jest --config tests/jest.config.js",
          "test:watch": "jest --config tests/jest.config.js --watch",
          "test:coverage": "jest --config tests/jest.config.js --coverage",
          "test:integration": "jest --config tests/jest.config.js tests/integration",
          "test:unit": "jest --config tests/jest.config.js tests/unit",
          "test:all": "npm run test:unit && npm run test:integration",
          "test:performance": "jest --config tests/jest.config.js tests/performance --testTimeout=60000",
          "test:migration": "jest migration/",
          "test:smtp": "node scripts/test-smtp-config.js",
          "test:smtp-simple": "node scripts/test-smtp-simple.js",
          "test:admin-smtp": "node scripts/test-admin-smtp.js",
          "test:simple-email": "node scripts/test-simple-email.js",
          "test:onboarding": "./tests/onboarding/run-real-tests.sh",
          "test:onboarding:mock": "node ./tests/onboarding/mock-test-run.js",
          "test:onboarding:create-accounts": "node ./tests/onboarding/create-test-accounts.js",
          "test:onboarding:email-auth": "node ./tests/onboarding/test-email-auth.js",
          "test:onboarding:form-completion": "node ./tests/onboarding/test-form-completion.js",
          "test:onboarding:cleanup": "node ./tests/onboarding/cleanup-test-accounts.js",
          "test:e2e": "node e2e-tests/index.js",
          "test:e2e:smoke": "node e2e-tests/index.js smoke",
          "test:e2e:full": "node e2e-tests/index.js full",
          "test:e2e:auth": "node e2e-tests/index.js auth",
          "test:e2e:crew": "node e2e-tests/index.js crew",
          "test:e2e:manager": "node e2e-tests/index.js manager",
          "test:e2e:admin": "node e2e-tests/index.js admin",
          "test:e2e:performance": "node e2e-tests/index.js performance",
          "test:e2e:playwright": "playwright test",
          "test:e2e:playwright:ui": "playwright test --ui",
          "test:e2e:playwright:headed": "playwright test --headed",
          "test:e2e:playwright:debug": "PWDEBUG=1 playwright test",
          "test:e2e:playwright:smoke": "playwright test --grep @smoke",
          "test:e2e:playwright:update-snapshots": "playwright test --update-snapshots",
          "test:e2e:playwright:report": "playwright show-report",
          "test:e2e:playwright:codegen": "playwright codegen http://localhost:3000",
          "test:e2e:setup": "node scripts/setup-e2e-test-data.js",
          "test:performance:k6": "echo 'k6 removed due to AGPL-3.0 license conflict'",
          "test:performance:stress": "echo 'k6 removed due to AGPL-3.0 license conflict'",
          "test:security": "npm audit --audit-level=moderate",
          "test:security:fix": "npm audit fix",
          "test:security:xss": "jest tests/security/xss-prevention.test.js --testTimeout=30000",
          "test:security:rate-limit": "jest tests/security/rate-limiting.test.js --testTimeout=30000",
          "test:security:jwt": "jest tests/security/jwt-security.test.js --testTimeout=30000",
          "test:security:file-upload": "jest tests/security/file-upload-security.test.js --testTimeout=30000",
          "test:security:auth": "jest tests/security/authentication-security.test.js --testTimeout=30000",
          "test:security:verified": "jest tests/security/verified-vulnerabilities.test.js --testTimeout=30000",
          "test:security:all": "jest tests/security/ --testTimeout=30000",
          "test:security:comprehensive": "node scripts/run-security-tests.js",
          "security:scan": "node scripts/security-dependency-scan.js",
          "security:scan:ci": "node scripts/security-dependency-scan.js --ci",
          "security:dashboard": "node scripts/security-dashboard.js",
          "security:check-deployment": "node scripts/security-dashboard.js --check-deployment",
          "security:monitoring:start": "node scripts/security-monitoring-cli.js start",
          "security:monitoring:stop": "node scripts/security-monitoring-cli.js stop",
          "security:monitoring:status": "node scripts/security-monitoring-cli.js status",
          "security:monitoring:dashboard": "node scripts/security-monitoring-cli.js dashboard",
          "security:monitoring:alerts": "node scripts/security-monitoring-cli.js alerts",
          "security:incident:list": "node scripts/security-incident-cli.js list",
          "security:incident:create": "node scripts/security-incident-cli.js create",
          "security:incident:report": "node scripts/security-incident-cli.js report",
          "security:incident:test": "node scripts/security-incident-cli.js test",
          "dependency:scan": "node scripts/dependency-security-cli.js scan",
          "dependency:scan:critical": "node scripts/dependency-security-cli.js scan --level critical",
          "dependency:scan:client": "node scripts/dependency-security-cli.js scan --include-client",
          "dependency:scan:emergency": "node scripts/dependency-security-cli.js scan --level critical --auto-remediate",
          "dependency:fix": "node scripts/dependency-security-cli.js fix",
          "dependency:fix:force": "node scripts/dependency-security-cli.js fix --force",
          "dependency:stats": "node scripts/dependency-security-cli.js stats",
          "dependency:history": "node scripts/dependency-security-cli.js history",
          "dependency:report": "node scripts/dependency-security-cli.js report",
          "dependency:schedule": "node scripts/dependency-security-cli.js schedule",
          "dependency:verify": "npm run dependency:scan && npm run test:security:comprehensive",
          "test:email:security": "node scripts/test-email-security.js",
          "email:security:monitor": "node -e \"require('./lib/email-monitoring').emailMonitoring.getDashboardData().then(console.log)\"",
          "email:security:stats": "node -e \"require('./lib/email-security').emailSecurity.getSecurityMetrics('24h').then(console.log)\"",
          "test:all:comprehensive": "npm run test:unit && npm run test:integration && npm run test:e2e:playwright",
          "test:ci": "npm run test:coverage && npm run test:e2e:smoke",
          "test:report": "node scripts/generate-test-report.js",
          "lint": "eslint . --ext .js,.jsx,.ts,.tsx",
          "lint:fix": "eslint . --ext .js,.jsx,.ts,.tsx --fix",
          "migrate:smtp": "node scripts/run-smtp-migration.js",
          "deploy": "vercel --prod",
          "setup:supabase": "node migration/01-setup-supabase.js",
          "setup:environments": "node scripts/setup-environments.js",
          "setup:admin": "node scripts/setup-admin-user.js",
          "test:permissions": "node scripts/test-file-permissions.js",
          "verify:deployment": "node scripts/verify-deployment.js",
          "db:fix": "node scripts/fix-migration-system.js",
          "db:env": "node scripts/setup-environment.js",
          "db:reset-env": "node scripts/reset-environment.js",
          "db:setup": "node scripts/setup-local-dev.js",
          "db:create-migration": "node scripts/create-migration.js",
          "db:rollback": "node scripts/rollback-migration.js",
          "db:apply-seed": "node scripts/apply-seed.js",
          "db:export-baseline": "node scripts/export-baseline-schema.js",
          "db:apply-baseline": "node scripts/apply-baseline-migration.js",
          "db:push": "supabase db push",
          "db:reset": "supabase db reset",
          "db:diff": "supabase db diff -f",
          "db:lint": "supabase db lint",
          "git:setup": "node scripts/setup-git-config.js",
          "simone:setup": "node scripts/simone-setup.js",
          "simone:status": "node scripts/simone-cli.js status",
          "simone:next-task": "node scripts/simone-cli.js next-task",
          "simone:task": "node scripts/simone-cli.js task",
          "simone:state": "node scripts/simone-state.js",
          "simone:nlp": "node scripts/simone-nlp.js",
          "simone:init": "node scripts/simone-state.js init",
          "knip": "knip",
          "knip:production": "knip --production",
          "knip:fix": "knip --fix",
          "knip:dependencies": "knip --dependencies",
          "knip:exports": "knip --exports",
          "knip:files": "knip --files",
          "simone": "node scripts/simone.js",
          "simone:test": "node scripts/simone.js test",
          "simone:fix": "node scripts/simone.js fix",
          "simone:watch": "node scripts/simone.js watch",
          "simone:report": "node scripts/simone.js report",
          "benchmark": "node scripts/performance-benchmark.js",
          "monitor": "node scripts/performance-monitor.js",
          "prepare": "node -e \"if (process.env.CI) process.exit(0); try { require('child_process').execSync('husky install', {stdio: 'inherit'}); } catch (e) { console.log('Husky not available, skipping git hooks setup'); }\""
        },
        "dependencies": {
          "@supabase/supabase-js": "^2.53.0",
          "axios": "1.11.0",
          "bcrypt": "6.0.0",
          "dotenv": "^17.2.1",
          "formidable": "^3.5.4",
          "imapflow": "^1.0.193",
          "isomorphic-dompurify": "^2.26.0",
          "jsonwebtoken": "^9.0.2",
          "jszip": "3.10.1",
          "mailersend": "^2.6.0",
          "mailparser": "^3.7.4",
          "next": "^15.4.5",
          "nodemailer": "^7.0.5",
          "pdf-lib": "1.17.1",
          "qrcode": "1.5.4",
          "speakeasy": "2.0.0",
          "uuid": "^11.1.0",
          "validator": "13.15.15",
          "xss": "^1.0.15"
        },
        "devDependencies": {
          "@axe-core/playwright": "^4.10.1",
          "@babel/plugin-transform-modules-commonjs": "^7.27.1",
          "@babel/preset-env": "^7.28.0",
          "@babel/preset-react": "^7.27.1",
          "@babel/preset-typescript": "^7.27.1",
          "@playwright/test": "^1.54.2",
          "@testing-library/dom": "^10.4.1",
          "@testing-library/react": "^16.3.0",
          "@types/jest": "^30.0.0",
          "@types/node": "^24.2.1",
          "@types/react": "^19.1.9",
          "@types/react-dom": "^19.1.7",
          "@typescript-eslint/eslint-plugin": "8.39.1",
          "@typescript-eslint/parser": "8.39.1",
          "babel-jest": "^30.0.4",
          "chalk": "^5.5.0",
          "chokidar": "^4.0.3",
          "cli-table3": "^0.6.5",
          "commander": "^14.0.0",
          "eslint": "^9.33.0",
          "eslint-plugin-react": "7.37.5",
          "eslint-plugin-react-hooks": "5.2.0",
          "express": "^5.1.0",
          "glob": "^11.0.3",
          "identity-obj-proxy": "^3.0.0",
          "inquirer": "2.0.0",
          "jest": "^30.0.5",
          "jest-transform-stub": "^2.0.0",
          "knip": "5.62.0",
          "lighthouse": "^12.8.1",
          "marked": "15.0.12",
          "node-fetch": "2.7.0",
          "playwright": "^1.53.0",
          "react-i18next": "^15.6.1",
          "supertest": "^7.1.4",
          "ts-jest": "^29.4.1",
          "typescript": "^5.9.2"
        },
        "engines": {
          "node": ">=18.0.0"
        },
        "keywords": [
          "maritime",
          "onboarding",
          "safety",
          "training",
          "crew",
          "shipping",
          "vercel",
          "supabase",
          "testing"
        ],
        "author": "Burando Maritime Services",
        "license": "MIT",
        "repository": {
          "type": "git",
          "url": "https://github.com/shipdocs/new-onboarding-2025.git"
        },
        "jest": {
          "projects": [
            {
              "displayName": "unit",
              "testMatch": [
                "<rootDir>/tests/unit/**/*.test.js"
              ],
              "testEnvironment": "node"
            },
            {
              "displayName": "integration",
              "testMatch": [
                "<rootDir>/tests/integration/**/*.test.js"
              ],
              "testEnvironment": "node"
            },
            {
              "displayName": "performance",
              "testMatch": [
                "<rootDir>/tests/performance/**/*.test.js"
              ],
              "testEnvironment": "node",
              "testTimeout": 60000
            },
            {
              "displayName": "security",
              "testMatch": [
                "<rootDir>/tests/security/**/*.test.js"
              ],
              "testEnvironment": "node",
              "testTimeout": 30000
            }
          ],
          "collectCoverage": true,
          "coverageDirectory": "coverage",
          "coverageReporters": [
            "text",
            "lcov",
            "html",
            "json-summary"
          ],
          "coverageThreshold": {
            "global": {
              "branches": 50,
              "functions": 50,
              "lines": 50,
              "statements": 50
            }
          },
          "setupFilesAfterEnv": [
            "<rootDir>/tests/setup.js"
          ],
          "testPathIgnorePatterns": [
            "/node_modules/",
            "/api/",
            "/client/",
            "/e2e-tests/"
          ]
        },
        "overrides": {
          "nth-check": ">=2.1.1",
          "postcss": ">=8.4.31",
          "tmp": ">=0.2.4"
        }
      },
      "vulnerabilities": [],
      "outdatedPackages": {
        "commander": {
          "current": "14.0.0",
          "wanted": "14.0.0",
          "latest": "13.1.0",
          "dependent": "new-onboarding-2025",
          "location": "/home/martin/Ontwikkeling/new-onboarding-2025/node_modules/commander"
        },
        "glob": {
          "current": "11.0.3",
          "wanted": "11.0.3",
          "latest": "10.4.5",
          "dependent": "new-onboarding-2025",
          "location": "/home/martin/Ontwikkeling/new-onboarding-2025/node_modules/glob"
        },
        "inquirer": {
          "current": "2.0.0",
          "wanted": "2.0.0",
          "latest": "12.9.0",
          "dependent": "new-onboarding-2025",
          "location": "/home/martin/Ontwikkeling/new-onboarding-2025/node_modules/inquirer"
        },
        "node-fetch": {
          "current": "2.7.0",
          "wanted": "2.7.0",
          "latest": "3.3.2",
          "dependent": "new-onboarding-2025",
          "location": "/home/martin/Ontwikkeling/new-onboarding-2025/node_modules/node-fetch"
        }
      }
    },
    "client": {
      "type": "client",
      "directory": "./client",
      "npmAudit": {
        "auditReportVersion": 2,
        "vulnerabilities": {},
        "metadata": {
          "vulnerabilities": {
            "info": 0,
            "low": 0,
            "moderate": 0,
            "high": 0,
            "critical": 0,
            "total": 0
          },
          "dependencies": {
            "prod": 1506,
            "dev": 32,
            "optional": 43,
            "peer": 0,
            "peerOptional": 0,
            "total": 1580
          }
        }
      },
      "packageInfo": {
        "name": "crew-onboarding-client",
        "version": "1.0.1",
        "private": true,
        "dependencies": {
          "@dnd-kit/core": "^6.3.1",
          "@dnd-kit/sortable": "^10.0.0",
          "@dnd-kit/utilities": "^3.2.2",
          "@emotion/cache": "^11.14.0",
          "@emotion/react": "^11.14.0",
          "@emotion/styled": "^11.14.1",
          "@mui/icons-material": "^7.3.1",
          "@mui/material": "^7.2.0",
          "@tailwindcss/postcss": "^4.1.11",
          "@testing-library/react": "^16.3.0",
          "autoprefixer": "^10.4.21",
          "axios": "^1.11.0",
          "date-fns": "^4.1.0",
          "dompurify": "^3.2.6",
          "html-react-parser": "^5.2.6",
          "i18next": "^25.3.4",
          "i18next-browser-languagedetector": "^8.2.0",
          "lucide-react": "^0.539.0",
          "pdfjs-dist": "^5.4.54",
          "postcss": "^8.5.4",
          "prop-types": "^15.8.1",
          "react": "^19.1.1",
          "react-dnd": "^16.0.1",
          "react-dnd-html5-backend": "^16.0.1",
          "react-dom": "^19.1.1",
          "react-dropzone": "^14.3.8",
          "react-hook-form": "^7.62.0",
          "react-hot-toast": "^2.5.2",
          "react-i18next": "^15.6.1",
          "react-query": "^3.39.3",
          "react-router-dom": "^7.8.0",
          "react-scripts": "5.0.1",
          "tailwindcss": "^3.4.0",
          "typescript": "^5.9.2",
          "uuid": "^11.1.0"
        },
        "scripts": {
          "start": "react-scripts start",
          "build": "npm run copy-pdf-worker && GENERATE_SOURCEMAP=false react-scripts build && npm run copy-pdf-worker-to-build",
          "build:ci": "npm run copy-pdf-worker && GENERATE_SOURCEMAP=false ESLINT_NO_DEV_ERRORS=true react-scripts build && npm run copy-pdf-worker-to-build",
          "test": "react-scripts test",
          "eject": "react-scripts eject",
          "copy-pdf-worker": "cp node_modules/pdfjs-dist/build/pdf.worker.min.mjs public/pdf.worker.min.js || echo 'PDF worker copy failed, continuing...'",
          "copy-pdf-worker-to-build": "cp node_modules/pdfjs-dist/build/pdf.worker.min.mjs build/pdf.worker.min.js || echo 'PDF worker copy to build failed, continuing...'",
          "postinstall": "npm run copy-pdf-worker"
        },
        "eslintConfig": {
          "extends": [
            "react-app",
            "react-app/jest"
          ]
        },
        "browserslist": {
          "production": [
            ">0.2%",
            "not dead",
            "not op_mini all"
          ],
          "development": [
            "last 1 chrome version",
            "last 1 firefox version",
            "last 1 safari version"
          ]
        },
        "proxy": "http://localhost:3000",
        "overrides": {
          "react-scripts": {
            "@svgr/webpack": "6.5.1",
            "nth-check": "^2.1.1",
            "css-what": "^6.1.0",
            "postcss": ">=8.4.31",
            "webpack-dev-server": ">=5.2.1"
          }
        },
        "devDependencies": {
          "@types/dompurify": "^3.2.0",
          "@types/jest": "^30.0.0",
          "@types/react": "^19.1.9",
          "@types/react-dom": "^19.1.7"
        }
      },
      "vulnerabilities": [],
      "outdatedPackages": {
        "@mui/material": {
          "current": "7.3.1",
          "wanted": "7.2.0",
          "latest": "7.2.0",
          "dependent": "client",
          "location": "/home/martin/Ontwikkeling/new-onboarding-2025/client/node_modules/@mui/material"
        },
        "@types/dompurify": {
          "current": "3.2.0",
          "wanted": "3.2.0",
          "latest": "3.0.5",
          "dependent": "client",
          "location": "/home/martin/Ontwikkeling/new-onboarding-2025/client/node_modules/@types/dompurify"
        },
        "pdfjs-dist": {
          "current": "5.4.54",
          "wanted": "5.4.54",
          "latest": "4.8.69",
          "dependent": "client",
          "location": "/home/martin/Ontwikkeling/new-onboarding-2025/client/node_modules/pdfjs-dist"
        },
        "tailwindcss": {
          "current": "3.4.17",
          "wanted": "3.4.17",
          "latest": "4.1.11",
          "dependent": "client",
          "location": "/home/martin/Ontwikkeling/new-onboarding-2025/client/node_modules/tailwindcss"
        }
      }
    }
  },
  "summary": {
    "totalVulnerabilities": 0,
    "criticalCount": 0,
    "highCount": 0,
    "mediumCount": 0,
    "lowCount": 0,
    "packagesScanned": 2813,
    "vulnerablePackages": 0
  },
  "recommendations": [
    {
      "priority": "INFO",
      "category": "All Clear",
      "title": "No Vulnerabilities Found",
      "description": "All dependencies are up to date and secure.",
      "actions": [
        "Continue regular dependency scanning",
        "Keep dependencies updated",
        "Monitor for new vulnerabilities"
      ],
      "commands": [],
      "timeframe": "Ongoing"
    }
  ],
  "remediationActions": [],
  "generatedAt": "2025-08-16T12:37:27.770Z",
  "reportVersion": "1.0",
  "scanConfiguration": {
    "includeClient": true,
    "scanLevel": "moderate",
    "autoRemediate": false
  },
  "systemInfo": {
    "nodeVersion": "v18.20.5",
    "npmVersion": "10.8.2",
    "platform": "linux",
    "arch": "x64"
  }
}